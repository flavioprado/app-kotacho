(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{gp3j:function(e,t,r){"use strict";r.r(t),r.d(t,"ClienteCadEditModule",(function(){return v}));var a=r("ofXK"),o=r("tyNb"),i=r("fXoL");let n=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["app-dialogo-confirmacao"]],decls:6,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""]],template:function(e,t){1&e&&(i.Sb(0,"h1",0),i.zc(1,"Confirma\xe7\xe3o"),i.Rb(),i.Sb(2,"div",1),i.Sb(3,"p"),i.zc(4,"Confirma a opera\xe7\xe3o?"),i.Rb(),i.Rb(),i.Nb(5,"div",2))},styles:[""]}),e})();var l=r("3Pt+");let b=(()=>{class e{static buildDigit(t){const r=t.length<e.cpfLength,a=t.map((e,t)=>e*((r?t:t%8)+2)).reduce((e,t)=>e+t)%e.cpfLength;return a<2&&r||a<2?0:e.cpfLength-a}static validate(t){const r=t.value.replace(/\D/g,"");if([e.cpfLength,e.cnpjLength].indexOf(r.length)<0)return{length:!0};if(/^([0-9])\1*$/.test(r))return{equalDigits:!0};const a=r.split("").reverse().slice(2);return a.unshift(e.buildDigit(a)),a.unshift(e.buildDigit(a)),r!==a.reverse().join("")?{digit:!0}:null}validate(t){return e.validate(t)}}return e.cpfLength=11,e.cnpjLength=14,e})();var c=r("BEcq"),m=r("0IaG"),s=r("dNgK"),d=r("kmnG"),u=r("qFsG"),p=r("bTqV");const f=["name"];function h(e,t){if(1&e&&(i.Sb(0,"mat-error"),i.zc(1),i.Rb()),2&e){const e=i.dc();i.Bb(1),i.Bc(" ",e.getErrorCnpj()," ")}}function S(e,t){if(1&e&&(i.Sb(0,"mat-error"),i.zc(1),i.Rb()),2&e){const e=i.dc();i.Bb(1),i.Bc(" ",e.getErrorEmail()," ")}}const g=[{path:"",component:(()=>{class e{constructor(e,t,r,a,o,i){this.fb=e,this.clienteService=t,this.router=r,this.route=a,this.matDialog=o,this.matSnackBar=i,this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$"}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.loadCliente(e),this.buildForm()}loadCliente(e){this.clienteService.pesquisarPorId(e).subscribe(e=>{this.cliente=e,this.loadObjectInForm(e)})}ngAfterViewInit(){this.nameField.nativeElement.focus()}loadObjectInForm(e){this.formCadastro.patchValue(e)}buildForm(){this.formCadastro=this.fb.group({id:[null],nome:["",l.r.required],cnpj:["",[l.r.required,l.r.pattern(/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/),l.r.minLength(14),l.r.maxLength(25),b.validate]],email:[null,[l.r.required,l.r.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],telefone:["",l.r.required],senha:[""],endereco:this.fb.group({logradouro:["",l.r.required],numero:["",l.r.required],complemento:[""],bairro:["",l.r.required],cidade:["",l.r.required],uf:["",l.r.required],cep:["",l.r.required]})})}getErrorEmail(){return this.formCadastro.get("email").hasError("required")?"Email \xe9 obrigat\xf3rio":this.formCadastro.get("email").hasError("pattern")?"Email inv\xe1lido":this.formCadastro.get("email").hasError("alreadyInUse")?"This emailaddress is already in use":""}getErrorCnpj(){return this.formCadastro.get("cnpj").hasError("required")?"CNPJ \xe9 obrigat\xf3rio":this.formCadastro.get("cnpj").hasError("pattern")?"CNPJ inv\xe1lido":""}salvar(){this.cliente&&this.cliente.cli_id?this.clienteService.atualizar(this.formCadastro.value).subscribe(e=>{this.matSnackBar.open("Atualizado com sucesso!",null,{duration:5e3,panelClass:"green-snackbar"}),this.router.navigateByUrl("/clientes")},e=>{this.matSnackBar.open("Erro ao atualizar",null,{duration:5e3,panelClass:"red-snackbar"})}):this.clienteService.cadastrar(this.formCadastro.value).subscribe(e=>{this.matSnackBar.open("Cadastrado com sucesso!",null,{duration:5e3,panelClass:"green-snackbar"}),this.router.navigateByUrl("/clientes")},e=>{this.matSnackBar.open("Erro ao cadastrar",null,{duration:5e3,panelClass:"red-snackbar"})})}deletar(){this.matDialog.open(n).afterClosed().subscribe(e=>{e&&this.clienteService.deletar(this.cliente).subscribe(e=>{this.matSnackBar.open("Item deletado com sucesso!",null,{duration:5e3,panelClass:"green-snackbar"}),this.router.navigateByUrl("/itens")},e=>{this.matSnackBar.open("Erro ao deletar",null,{duration:5e3,panelClass:"red-snackbar"})})})}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(l.d),i.Mb(c.a),i.Mb(o.b),i.Mb(o.a),i.Mb(m.a),i.Mb(s.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-cliente-cad-edit"]],viewQuery:function(e,t){var r;1&e&&i.Cc(f,!0),2&e&&i.nc(r=i.ac())&&(t.nameField=r.first)},decls:85,vars:4,consts:[[1,"example-form",3,"formGroup","ngSubmit"],["cellspacing","0",1,"example-full-width"],[1,"example-full-width"],["matInput","","placeholder","Nome","autofocus","","formControlName","nome","required",""],["name",""],["matInput","","placeholder","CNPJ","formControlName","cnpj","required",""],[4,"ngIf"],["matInput","","placeholder","Email","formControlName","email","required","","autocomplete","off"],["matInput","","placeholder","Senha","formControlName","senha","autocomplete","off"],["matInput","","placeholder","Telefone","formControlName","telefone","required","","autocomplete","off"],["formGroupName","endereco"],["matInput","","placeholder","cep","maxlength","8","formControlName","cep","required","","autocomplete","off"],["matInput","","placeholder","logradouro","formControlName","logradouro","required","","autocomplete","off"],["matInput","","placeholder","numero","formControlName","numero","required","","autocomplete","off"],["matInput","","placeholder","complemento","formControlName","complemento"],["matInput","","placeholder","bairro","formControlName","bairro","required","","autocomplete","off"],["matInput","","placeholder","cidade","formControlName","cidade","required","","autocomplete","off"],["matInput","","placeholder","uf","formControlName","uf","required","","autocomplete","off"],[1,"linha-botoes"],["mat-raised-button","","color","primary",3,"disabled"],["type","button","mat-raised-button","","routerLink","/clientes"]],template:function(e,t){1&e&&(i.Sb(0,"form",0),i.Zb("ngSubmit",(function(){return t.formCadastro.valid&&t.salvar()})),i.Sb(1,"table",1),i.Sb(2,"tr"),i.Sb(3,"td"),i.Sb(4,"mat-form-field",2),i.Sb(5,"mat-label"),i.zc(6,"Raz\xe3o Social"),i.Rb(),i.Nb(7,"input",3,4),i.Sb(9,"mat-error"),i.zc(10,"Raz\xe3o Social \xe9 obrigat\xf3ria"),i.Rb(),i.Rb(),i.Rb(),i.Sb(11,"td"),i.Sb(12,"mat-form-field",2),i.Sb(13,"mat-label"),i.zc(14,"CNPJ"),i.Rb(),i.Nb(15,"input",5),i.yc(16,h,2,1,"mat-error",6),i.Rb(),i.Rb(),i.Rb(),i.Sb(17,"tr"),i.Sb(18,"td"),i.Sb(19,"mat-form-field",2),i.Sb(20,"mat-label"),i.zc(21,"Email"),i.Rb(),i.Nb(22,"input",7),i.yc(23,S,2,1,"mat-error",6),i.Rb(),i.Rb(),i.Rb(),i.Sb(24,"tr"),i.Sb(25,"td"),i.Sb(26,"mat-form-field",2),i.Sb(27,"mat-label"),i.zc(28,"Senha"),i.Rb(),i.Nb(29,"input",8),i.Sb(30,"mat-error"),i.zc(31,"Campo \xe9 obrigat\xf3rio"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(32,"tr"),i.Sb(33,"td"),i.Sb(34,"mat-form-field",2),i.Sb(35,"mat-label"),i.zc(36,"Telefone"),i.Rb(),i.Nb(37,"input",9),i.Sb(38,"mat-error"),i.zc(39,"Campo \xe9 obrigat\xf3rio"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(40,"div",10),i.Sb(41,"table",1),i.Sb(42,"tr"),i.Sb(43,"td"),i.Sb(44,"mat-form-field",2),i.Sb(45,"mat-label"),i.zc(46,"CEP"),i.Rb(),i.Nb(47,"input",11),i.Rb(),i.Rb(),i.Rb(),i.Sb(48,"tr"),i.Sb(49,"td"),i.Sb(50,"mat-form-field",2),i.Sb(51,"mat-label"),i.zc(52,"Endere\xe7o"),i.Rb(),i.Nb(53,"input",12),i.Rb(),i.Rb(),i.Sb(54,"td"),i.Sb(55,"mat-form-field",2),i.Sb(56,"mat-label"),i.zc(57,"N\xfamero"),i.Rb(),i.Nb(58,"input",13),i.Rb(),i.Rb(),i.Sb(59,"td"),i.Sb(60,"mat-form-field",2),i.Sb(61,"mat-label"),i.zc(62,"Complemento"),i.Rb(),i.Nb(63,"input",14),i.Rb(),i.Rb(),i.Sb(64,"td"),i.Sb(65,"mat-form-field",2),i.Sb(66,"mat-label"),i.zc(67,"bairro"),i.Rb(),i.Nb(68,"input",15),i.Rb(),i.Rb(),i.Rb(),i.Sb(69,"tr"),i.Sb(70,"td"),i.Sb(71,"mat-form-field",2),i.Sb(72,"mat-label"),i.zc(73,"Cidade"),i.Rb(),i.Nb(74,"input",16),i.Rb(),i.Rb(),i.Sb(75,"td"),i.Sb(76,"mat-form-field",2),i.Sb(77,"mat-label"),i.zc(78,"UF"),i.Rb(),i.Nb(79,"input",17),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(80,"div",18),i.Sb(81,"button",19),i.zc(82,"Salvar"),i.Rb(),i.Sb(83,"button",20),i.zc(84,"Cancelar"),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.ic("formGroup",t.formCadastro),i.Bb(16),i.ic("ngIf",!t.formCadastro.controls.cnpj.valid&&t.formCadastro.controls.cnpj.touched),i.Bb(7),i.ic("ngIf",!t.formCadastro.controls.email.valid&&t.formCadastro.controls.email.touched),i.Bb(58),i.ic("disabled",!t.formCadastro.valid))},directives:[l.s,l.n,l.f,d.c,d.f,u.b,l.c,l.m,l.e,l.q,d.b,a.k,l.g,l.i,p.b,o.c],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}"]}),e})()}];let R=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(g)],o.e]}),e})();var C=r("j5wd");let v=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(t){return new(t||e)},imports:[[C.a,l.h,l.p,a.c,R]]}),e})()}}]);