{"version":3,"sources":["./src/app/relatorio/relatorio.module.ts","./src/app/relatorio/components/relatorio-routing.module.ts","./src/app/relatorio/relatorio.service.ts","./src/app/relatorio/components/relatorio.component.ts","./src/app/relatorio/components/relatorio.component.html"],"names":[],"mappings":"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","file":"13.d69dde4d71b335f99002.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { MaterialModule } from 'src/app/material-module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgxCurrencyModule } from 'ngx-currency';\r\nimport { MaterialFileInputModule } from 'ngx-material-file-input';\r\nimport { RelatorioComponent } from './components/relatorio.component';\r\nimport { RelatorioRoutingModule } from './components/relatorio-routing.module';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [RelatorioComponent],\r\n  imports: [\r\n    MaterialModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CommonModule,\r\n    RelatorioRoutingModule,\r\n    MaterialFileInputModule,\r\n    NgxCurrencyModule,\r\n  ],\r\n  exports:[RelatorioComponent]\r\n\r\n})\r\nexport class RelatorioModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RelatorioComponent } from './relatorio.component';\r\n\r\nconst routes: Routes = [\r\n\r\n  {\r\n    path: '',\r\n    component: RelatorioComponent,\r\n  }, \r\n\r\n \r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RelatorioRoutingModule { }\r\n","\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpResponse } from '@angular/common/http';\r\nimport { Observable, EMPTY } from \"rxjs\";\r\nimport { catchError, map } from 'rxjs/operators';\r\nimport { QueryBuilder, Page } from '../_util/Pagination';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Produto } from '../interfaces/produto.model';\r\nimport { saveAs } from 'file-saver';\r\n\r\n\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class RelatorioService {\r\n    private baseURL = environment.api.apiUrl;\r\n\r\n    private endpoint = 'relatorios';\r\n\r\n\r\n    constructor(private snackBar: MatSnackBar,\r\n        private httpClient: HttpClient) { }\r\n\r\n    pedidoClientes(): Observable<any> {\r\n        return this.httpClient.get<any>(`${this.baseURL}/${this.endpoint}/pedidos/clientes`);\r\n    }\r\n\r\n    public downloadPDF(): Observable<any> {\r\n        return this.httpClient.get(`${this.baseURL}/${this.endpoint}/pedidos/clientes`, {  responseType: 'blob' });\r\n\r\n    }\r\n\r\n    \r\n    showMessage(msg: string, isError: boolean = false): void {\r\n        this.snackBar.open(msg, \"X\", {\r\n            duration: 3000,\r\n            horizontalPosition: \"right\",\r\n            verticalPosition: \"top\",\r\n            panelClass: isError ? [\"msg-error\"] : [\"msg-success\"],\r\n        });\r\n    }\r\n    errorHandler(e: any): Observable<any> {\r\n        this.showMessage(\"Ocorreu um erro!\", true);\r\n        return EMPTY;\r\n    }\r\n}","import { Component, OnInit } from \"@angular/core\";\r\n\r\nimport { PageEvent } from \"@angular/material/paginator\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { Sort } from \"@angular/material/sort\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DialogService } from 'src/app/_shared/dialog.service';\r\nimport { ConfirmDialogComponent, ConfirmDialogModel } from 'src/app/_shared/confirm-dialog/confirm-dialog.component';\r\nimport { RelatorioService } from \"../relatorio.service\";\r\nimport { saveAs } from 'file-saver';\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'app-relatorio',\r\n    templateUrl: './relatorio.component.html',\r\n    styleUrls: ['./relatorio.component.css']\r\n})\r\nexport class RelatorioComponent implements OnInit {\r\n\r\n\r\n    pageEvent: PageEvent;\r\n    sortEvent: Sort;\r\n\r\n    carregando = false;\r\n    service: any;\r\n    notificationService: any;\r\n\r\n    constructor(private relatorioService: RelatorioService,\r\n        private router: Router,\r\n        public dialog: MatDialog,\r\n\r\n        public matDialog: MatDialog,\r\n        private matSnackBar: MatSnackBar,\r\n        private dialogService: DialogService\r\n\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n\r\n\r\n    onEdit(row) {\r\n        this.router.navigateByUrl(`produtos/editar/${row.id}`);\r\n    }\r\n\r\n    gerarRelatorio() {\r\n        this.relatorioService.downloadPDF().subscribe((result) => {\r\n            const blob = new Blob([result], { type: \"application/pdf\" });\r\n            saveAs(blob, \"rel_pedidos_por_municipio.pdf\");\r\n        });\r\n\r\n        \r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n","\r\n<div class=\"title-group\">\r\n  <h1 class=\"mat-h1\">Relatórios:</h1>\r\n  <mat-divider fxFlex=\"1 0\"></mat-divider>\r\n</div>\r\n<div class=\"example-button-row right\">  \r\n  <button mat-button color=\"primary\" (click)=\"gerarRelatorio()\">Pedidos por Município</button>\r\n\r\n</div>\r\n\r\n"],"sourceRoot":"webpack:///"}