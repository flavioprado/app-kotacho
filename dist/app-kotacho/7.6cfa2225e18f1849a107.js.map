{"version":3,"sources":["./src/app/_util/Pagination.ts","./src/app/pedido/pedido-listar/components/pedido-listar.component.ts","./src/app/pedido/pedido-listar/components/pedido-listar.component.html","./src/app/pedido/pedido-listar/pedido-listar-routing.module.ts","./src/app/pedido/pedido-listar/pedido-listar.module.ts"],"names":[],"mappings":"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","file":"7.6cfa2225e18f1849a107.js","sourcesContent":["export interface SortQuery {\r\n    property: string,\r\n    direction: string\r\n}\r\n\r\nexport interface PageQuery {\r\n    pageNumber: number,\r\n    pageSize: number\r\n}\r\n\r\nexport interface QueryBuilder {\r\n    pageQuery: PageQuery;\r\n    sortQuery: SortQuery;\r\n    aditionalQuery: Map<string, string>;\r\n    buildQueryMap(): Map<string, string>;\r\n    buildQueryString(): string;\r\n    buildPageQueryMap(): Map<string, string>;\r\n    buildSortQueryMap(): Map<string, string>;\r\n}\r\n\r\nexport class PageRequest implements QueryBuilder {\r\n\r\n    constructor(public pageQuery: PageQuery, public sortQuery: SortQuery, public aditionalQuery: Map<string, string>) { }\r\n\r\n    buildQueryMap(): Map<string, string> {\r\n\r\n        let buildQueryMap = new Map<string, string>([...this.buildPageQueryMap(), ...this.buildSortQueryMap()]);\r\n\r\n        if (this.aditionalQuery) {\r\n            buildQueryMap = new Map<string, string>([...buildQueryMap, ...this.aditionalQuery])\r\n        }\r\n\r\n        return buildQueryMap;\r\n    }\r\n\r\n    buildQueryString(): string {\r\n\r\n        return Array.from(this.buildQueryMap()).map(itemArray => `${itemArray[0]}=${itemArray[1]}`).join(\"&\");\r\n\r\n    }\r\n\r\n    buildPageQueryMap(): Map<string, string> {\r\n\r\n        let buildPageQueryMap = new Map<string, string>();\r\n\r\n        buildPageQueryMap.set(\"_page\", `${this.pageQuery.pageNumber + 1}`);\r\n        buildPageQueryMap.set(\"_limit\", `${this.pageQuery.pageSize}`);\r\n\r\n        return buildPageQueryMap;\r\n\r\n    }\r\n\r\n    buildSortQueryMap(): Map<string, string> {\r\n\r\n        let buildPageQueryMap = new Map<string, string>();\r\n\r\n        buildPageQueryMap.set(\"_sort\", `${this.sortQuery.property}`);\r\n        buildPageQueryMap.set(\"_order\", `${this.sortQuery.direction}`);\r\n\r\n        return buildPageQueryMap;\r\n\r\n    }\r\n\r\n}\r\n\r\nexport class Page<T> {\r\n\r\n    constructor(public content: T[], public totalElements: number){}\r\n\r\n    static fromResponse<T>(response:any){\r\n        return new Page<T>(response.body, parseInt(response.headers.get(\"X-Total-Count\")));\r\n    }\r\n    \r\n}","import { Component, OnInit } from \"@angular/core\";\n\nimport { Page, PageRequest } from \"../../../_util/Pagination\";\nimport { PageEvent } from \"@angular/material/paginator\";\nimport { take } from \"rxjs/operators\";\nimport { Sort } from \"@angular/material/sort\";\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\nimport { Pedido } from '../../pedido.model';\nimport { Router } from '@angular/router';\nimport { PedidoService } from '../../pedido.service';\n\n\n@Component({\n    selector: 'app-pedido-listar',\n    templateUrl: './pedido-listar.component.html',\n    styleUrls: ['./pedido-listar.component.css']\n})\nexport class PedidoListarComponent implements OnInit {\n\n    colunasTabela = [\"numero\", \"desconto\",\"total\",\"datapedido\",\"status\",\"action\"];\n\n    page: Page<Pedido> = new Page([], 0);\n    pageEvent: PageEvent;\n    sortEvent: Sort;\n\n    carregando = false;\n\n    constructor(private pedidoService: PedidoService, \n        private router: Router,\n        private matSnackBar: MatSnackBar) { }\n\n    ngOnInit() {\n        this.listarItens();\n    }\n\n    listarItens() {\n        this.carregando = true;\n        let queryAdicional;\n        this.pedidoService\n            .listar(\n                new PageRequest(\n                    {\n                        pageNumber: this.pageEvent ? this.pageEvent.pageIndex : 0,\n                        pageSize: this.pageEvent ? this.pageEvent.pageSize : 5,\n                    },\n                    {\n                        property: this.sortEvent ? this.sortEvent.active : \"numero\",\n                        direction: this.sortEvent ? this.sortEvent.direction : \"asc\",\n                    },\n                    queryAdicional\n                )\n            )\n            .pipe(take(1))\n            .subscribe(\n                (page) => {\n                    this.page = page;\n                    this.carregando = false;\n                },\n                (error) => {\n                    this.page = new Page([], 0);\n                    this.carregando = false;\n                    this.matSnackBar.open(\"Erro ao listar Pedidos\", null, {\n                        duration: 5000,\n                        panelClass: \"red-snackbar\",\n                    });\n                }\n            );\n    }\n\n    cadastrarPedido() {\n            \n    }\n}\n","<div class=\"mat-elevation-z4\">\n\n  <button button=\"submit\" mat-raised-button class=\"btn-success\" routerLink=\"/pedidos/cadastrar\">\n    <mat-icon>add</mat-icon> Novo Pedido\n  </button>\n\n  <table mat-table [dataSource]=\"page.content\" matSort (matSortChange)=\"sortEvent = $event; listarItens();\">\n    <!-- Id Column -->\n    <ng-container matColumnDef=\"numero\">\n      <th mat-header-cell *matHeaderCellDef>Número</th>\n      <td mat-cell *matCellDef=\"let row\">{{row.numero}}</td>\n    </ng-container>\n\n    <!-- Name Column -->\n    <ng-container matColumnDef=\"desconto\">\n      <th mat-header-cell *matHeaderCellDef>Desconto</th>\n      <td mat-cell *matCellDef=\"let row\">{{row.desconto}}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"total\">\n      <th mat-header-cell *matHeaderCellDef>Valor Total</th>\n      <td mat-cell *matCellDef=\"let row\">{{row.vlrTotal}}</td>\n    </ng-container>\n\n\n    <ng-container matColumnDef=\"datapedido\">\n      <th mat-header-cell *matHeaderCellDef>Data Pedido</th>\n      <td mat-cell *matCellDef=\"let row\">{{row.dataPedido}}</td>\n    </ng-container>\n\n    <ng-container matColumnDef=\"status\">\n      <th mat-header-cell *matHeaderCellDef>Status</th>\n      <td mat-cell *matCellDef=\"let row\">{{row.status}}</td>\n    </ng-container>\n\n    <!-- Action Column -->\n    <ng-container matColumnDef=\"action\">\n      <th mat-header-cell *matHeaderCellDef>Ações</th>\n      <td mat-cell *matCellDef=\"let row\">\n        <a routerLink=\"/pedidos/editar/{{ row.id }}\" class=\"edit\">\n          <i class=\"material-icons\">\n            edit\n          </i>\n        </a>\n        <a routerLink=\"/pedidos/delete/{{ row.id }}\" class=\"delete\">\n          <i class=\"material-icons\">\n            delete\n          </i>\n        </a>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef=\"colunasTabela\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: colunasTabela;\"></tr>\n  </table>\n</div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PedidoListarComponent } from './components/pedido-listar.component';\n\nconst routes: Routes = [\n   {path: \"\", component: PedidoListarComponent},\n   {path: \"clientes\", component: PedidoListarComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PedidoListarRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PedidoListarRoutingModule } from './pedido-listar-routing.module';\nimport { PedidoListarComponent } from './components/pedido-listar.component';\nimport { MaterialModule } from 'src/app/material-module';\n\n\n@NgModule({\n  declarations: [PedidoListarComponent],\n  imports: [\n    MaterialModule,\n    CommonModule,\n    PedidoListarRoutingModule\n  ]\n})\nexport class PedidoListarModule { }\n"],"sourceRoot":"webpack:///"}