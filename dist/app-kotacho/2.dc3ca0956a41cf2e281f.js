(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{gp3j:function(t,e,i){"use strict";i.r(e),i.d(e,"ClienteCadEditModule",(function(){return S}));var n=i("ofXK"),r=i("tyNb"),a=i("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["app-dialogo-confirmacao"]],decls:6,vars:0,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""]],template:function(t,e){1&t&&(a.Sb(0,"h1",0),a.zc(1,"Confirma\xe7\xe3o"),a.Rb(),a.Sb(2,"div",1),a.Sb(3,"p"),a.zc(4,"Confirma a opera\xe7\xe3o?"),a.Rb(),a.Rb(),a.Nb(5,"div",2))},styles:[""]}),t})();var c=i("3Pt+"),s=i("BEcq"),l=i("0IaG"),u=i("dNgK"),b=i("kmnG"),d=i("qFsG"),m=i("bTqV");function p(t,e){if(1&t){const t=a.Tb();a.Sb(0,"button",8),a.Zb("click",(function(){return a.qc(t),a.dc(2).deletar()})),a.zc(1,"Deletar"),a.Rb()}}function f(t,e){if(1&t){const t=a.Tb();a.Sb(0,"form",2),a.Zb("ngSubmit",(function(){a.qc(t);const e=a.dc();return e.formGroup.valid&&e.salvar()})),a.Sb(1,"mat-form-field"),a.Nb(2,"input",3),a.Sb(3,"mat-error"),a.zc(4,"Campo \xe9 obrigat\xf3rio"),a.Rb(),a.Rb(),a.Sb(5,"div",4),a.Sb(6,"button",5),a.zc(7,"Salvar"),a.Rb(),a.yc(8,p,2,0,"button",6),a.Sb(9,"button",7),a.zc(10,"Cancelar"),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.dc();a.ic("formGroup",t.formGroup),a.Bb(6),a.ic("disabled",!t.formGroup.valid),a.Bb(2),a.ic("ngIf",t.cliente&&t.cliente.id)}}const h=[{path:"",component:(()=>{class t{constructor(t,e,i,n,r,a){this.formBuilder=t,this.clienteService=e,this.router=i,this.route=n,this.matDialog=r,this.matSnackBar=a}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.loadCliente(t),this.formGroup=this.formBuilder.group({id:[this.cliente&&this.cliente.cli_id?this.cliente.cli_id:null],nome:[this.cliente&&this.cliente.nome?this.cliente.nome:"",c.p.required]})}loadCliente(t){this.clienteService.pesquisarPorId(t).subscribe(t=>{this.cliente=t,this.formGroup=this.formBuilder.group({id:[this.cliente&&this.cliente.cli_id?this.cliente.cli_id:null],nome:[this.cliente&&this.cliente.nome?this.cliente.nome:"",c.p.required]})})}salvar(){this.cliente&&this.cliente.cli_id?this.clienteService.atualizar(this.formGroup.value).subscribe(t=>{this.matSnackBar.open("Atualizado com sucesso!",null,{duration:5e3,panelClass:"green-snackbar"}),this.router.navigateByUrl("/clientes")},t=>{this.matSnackBar.open("Erro ao atualizar",null,{duration:5e3,panelClass:"red-snackbar"})}):this.clienteService.cadastrar(this.formGroup.value).subscribe(t=>{this.matSnackBar.open("Cadastrado com sucesso!",null,{duration:5e3,panelClass:"green-snackbar"}),this.router.navigateByUrl("/clientes")},t=>{this.matSnackBar.open("Erro ao cadastrar",null,{duration:5e3,panelClass:"red-snackbar"})})}deletar(){this.matDialog.open(o).afterClosed().subscribe(t=>{t&&this.clienteService.deletar(this.cliente).subscribe(t=>{this.matSnackBar.open("Item deletado com sucesso!",null,{duration:5e3,panelClass:"green-snackbar"}),this.router.navigateByUrl("/itens")},t=>{this.matSnackBar.open("Erro ao deletar",null,{duration:5e3,panelClass:"red-snackbar"})})})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(c.d),a.Mb(s.a),a.Mb(r.b),a.Mb(r.a),a.Mb(l.a),a.Mb(u.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-cliente-cad-edit"]],decls:2,vars:1,consts:[[1,"componente-container"],["class","form-padrao","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"form-padrao",3,"formGroup","ngSubmit"],["matInput","","placeholder","Nome","formControlName","nome","required","","autocomplete","off"],[1,"linha-botoes"],["mat-raised-button","","color","primary",3,"disabled"],["type","button","color","warn","mat-raised-button","",3,"click",4,"ngIf"],["type","button","mat-raised-button","","routerLink","/clientes"],["type","button","color","warn","mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.yc(1,f,11,3,"form",1),a.Rb()),2&t&&(a.Bb(1),a.ic("ngIf",e.formGroup))},directives:[n.k,c.q,c.l,c.f,b.c,d.b,c.c,c.k,c.e,c.o,b.b,m.b,r.c],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[r.e.forChild(h)],r.e]}),t})();var v=i("j5wd");let S=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[v.a,c.g,c.n,n.c,g]]}),t})()}}]);