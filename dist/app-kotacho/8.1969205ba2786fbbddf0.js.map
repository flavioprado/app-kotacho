{"version":3,"sources":["./src/app/categoria/categoria-cad-edit/componentes/categoria-cad-edit.component.ts","./src/app/categoria/categoria-cad-edit/componentes/categoria-cad-edit.component.html","./src/app/categoria/categoria-cad-edit/categoria-cad-edit-routing.module.ts","./src/app/categoria/categoria-cad-edit/categoria-cad-edit.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;AACL;;;;;;;;;;;;;;AAiB7D,MAAM,yBAAyB;IAUlC,YACY,EAAe,EACf,gBAAkC,EAClC,MAAc,EACd,KAAqB,EACtB,SAAoB,EACpB,WAAwB;QALvB,OAAE,GAAF,EAAE,CAAa;QACf,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QAZnC,iBAAY,GAAG,0CAA0C,CAAC;IAatD,CAAC;IAEL,QAAQ;QAEJ,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAEhD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC;QAE7C,IAAI,EAAE,EAAE;YACJ,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;SAC1B;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;IAErB,CAAC;IACD,qBAAqB;IACrB,4CAA4C;IAC5C,MAAM;IAEN,aAAa,CAAC,EAAE;QACZ,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,EAAE;YAC7D,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;YAC3B,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;QACrC,CAAC,CAAC;IACN,CAAC;IAED,eAAe;QACX,wCAAwC;IAC5C,CAAC;IACO,cAAc,CAAC,IAAe,EAAE,UAAkB,EAAE,KAAU;QAClE,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACxC;IACL,CAAC;IACO,gBAAgB,CAAC,SAAoB;QACzC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;IAC5C,CAAC;IAED,SAAS;QACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC9B,EAAE,EAAE,CAAC,IAAI,CAAC;YACV,IAAI,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YAC/B,KAAK,EAAE,CAAC,IAAI,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;SACvC,CAAC,CAAC;IACP,CAAC;IAGD,MAAM;QACF,MAAM,EACF,EAAE,EACF,IAAI,EACJ,KAAK,EACR,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QAE5B,MAAM,SAAS,GAAG;YACd,EAAE;YACF,IAAI;YACJ,KAAK;SACK,CAAC;QAIf,IAAI,SAAS,IAAI,SAAS,CAAC,EAAE,EAAE;YAC3B,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,SAAS,CAChD,CAAC,cAAc,EAAE,EAAE;gBACf,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,EAAE;oBACnD,QAAQ,EAAE,IAAI;oBACd,UAAU,EAAE,gBAAgB;iBAC/B,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YAC7C,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,EAAE;oBAC7C,QAAQ,EAAE,IAAI;oBACd,UAAU,EAAE,cAAc;iBAC7B,CAAC,CAAC;YACP,CAAC,CACJ,CAAC;SACL;aAAM;YACH,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,SAAS,CAChD,CAAC,cAAc,EAAE,EAAE;gBACf,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,EAAE;oBACnD,QAAQ,EAAE,IAAI;oBACd,UAAU,EAAE,gBAAgB;iBAC/B,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YAC7C,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,mBAAmB,EAAE,IAAI,EAAE;oBAC7C,QAAQ,EAAE,IAAI;oBACd,UAAU,EAAE,cAAc;iBAC7B,CAAC,CAAC;YACP,CAAC,CACJ,CAAC;SACL;IACL,CAAC;;kGAhHQ,yBAAyB;yGAAzB,yBAAyB;;;;;;QCjBtC,yEACI;QAAA,wEAAmB;QAAA,uDAAuB;QAAA,4DAAK;QAC/C,4EAAwC;QAC5C,4DAAM;QAGN,yEACI;QAAA,6EACI;QAD6B,+KAAkC,YAAQ,IAAC;QAExE,2EACI;QAAA,yEACI;QAAA,oFACI;QAAA,6EAAW;QAAA,gEAAI;QAAA,4DAAY;QAC3B,0EACA;QAAA,6EAAW;QAAA,wFAAkB;QAAA,4DAAY;QAC7C,4DAAiB;QACjB,+EACI;QAAA,6EAAW;QAAA,iEAAK;QAAA,4DAAY;QAC5B,+EACe;QACf,wEACY;QAChB,4DAAU;QACd,4DAAM;QACV,4DAAW;QAGX,oFACI;QAAA,8EAA2E;QAAA,kEAAM;QAAA,4DAAS;QAC1F,8EAAiE;QAAA,kEAAM;QAAA,4DAAS;QACpF,4DAAmB;QAWvB,4DAAO;QACX,4DAAM;;QAzCiB,0DAAuB;QAAvB,iGAAuB;QAMpC,0DAA0B;QAA1B,uFAA0B;QAqBkB,2DAAgC;QAAhC,6FAAgC;;6FDXzE,yBAAyB;cALrC,uDAAS;eAAC;gBACP,QAAQ,EAAE,wBAAwB;gBAClC,WAAW,EAAE,qCAAqC;gBAClD,SAAS,EAAE,CAAC,oCAAoC,CAAC;aACpD;seAEsB,SAAS;kBAA3B,uDAAS;mBAAC,MAAM;;;;;;;;;;;;;;AEnBrB;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACgC;;;AACvF,MAAM,MAAM,GAAW;IACrB,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,mGAAyB,EAAC;CACjD,CAAC;AAMK,MAAM,6BAA6B;;4GAA7B,6BAA6B;oLAA7B,6BAA6B,kBAHhC,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;mIAEV,6BAA6B,uFAF/B,4DAAY;6FAEV,6BAA6B;cAJzC,sDAAQ;eAAC;gBACT,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACvB;;;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AAGU;AACS;AACjB;AACmC;AACG;;;AAEvF,MAAM,UAAU,GAAqB;IACnC,UAAU,EAAE,KAAK;CAClB,CAAC;AAcK,MAAM,sBAAsB;;qGAAtB,sBAAsB;sKAAtB,sBAAsB,kBATxB;YACP,sDAAa,CAAC,OAAO,CAAC,UAAU,CAAC;YACjC,sEAAc;YACd,0DAAW;YACX,kEAAmB;YACnB,4DAAY;YACZ,gGAA6B;SAC9B;mIAEU,sBAAsB,mBAVlB,mGAAyB,qEAGtC,sEAAc;QACd,0DAAW;QACX,kEAAmB;QACnB,4DAAY;QACZ,gGAA6B;6FAGpB,sBAAsB;cAXlC,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,mGAAyB,CAAC;gBACzC,OAAO,EAAE;oBACP,sDAAa,CAAC,OAAO,CAAC,UAAU,CAAC;oBACjC,sEAAc;oBACd,0DAAW;oBACX,kEAAmB;oBACnB,4DAAY;oBACZ,gGAA6B;iBAC9B;aACF","file":"8.1969205ba2786fbbddf0.js","sourcesContent":["import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Categoria } from '../../categoria.model';\r\nimport { CategoriaService } from '../../categoria.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Endereco } from 'src/app/interfaces/endereco.model';\r\nimport * as _ from 'lodash';\r\nimport { CpfCnpjValidator } from 'src/app/_validators/cpf-cnpj.validator';\r\nimport { CepService } from '../../../../cep/cep.service';\r\n\r\n\r\n@Component({\r\n    selector: 'app-categoria-cad-edit',\r\n    templateUrl: './categoria-cad-edit.component.html',\r\n    styleUrls: ['./categoria-cad-edit.component.css']\r\n})\r\nexport class CategoriaCadEditComponent implements OnInit {\r\n    @ViewChild(\"name\") nameField: ElementRef;\r\n\r\n\r\n    emailPattern = \"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\";\r\n    formCadastro: FormGroup;\r\n    categoria: Categoria;\r\n    endereco: Endereco;\r\n    labelForm: string;\r\n\r\n    constructor(\r\n        private fb: FormBuilder,\r\n        private categoriaService: CategoriaService,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        public matDialog: MatDialog,\r\n        public matSnackBar: MatSnackBar\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n\r\n        let id = this.route.snapshot.paramMap.get('id');\r\n\r\n        this.labelForm = id ? 'Editar' : 'Cadastrar';\r\n\r\n        if (id) {\r\n            this.loadCategoria(id);\r\n        }\r\n\r\n        this.buildForm();\r\n\r\n    }\r\n    // editName(): void {\r\n    //     this.nameField.nativeElement.focus();\r\n    //   }\r\n\r\n    loadCategoria(id) {\r\n        this.categoriaService.pesquisarPorId(id).subscribe((categoria) => {\r\n            this.categoria = categoria;\r\n            this.loadObjectInForm(categoria);\r\n        })\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        // this.nameField.nativeElement.focus();\r\n    }\r\n    private setValueOnForm(form: FormGroup, pathOnForm: string, value: any) {\r\n        if (value) {\r\n            form.get(pathOnForm).setValue(value);\r\n        }\r\n    }\r\n    private loadObjectInForm(categoria: Categoria) {\r\n        this.formCadastro.patchValue(categoria);\r\n    }\r\n\r\n    buildForm() {\r\n        this.formCadastro = this.fb.group({\r\n            id: [null],\r\n            nome: [\"\", Validators.required],\r\n            ativo: [true, [Validators.required]],\r\n        });\r\n    }\r\n\r\n\r\n    salvar() {\r\n        const {\r\n            id,\r\n            nome,\r\n            ativo\r\n        } = this.formCadastro.value;\r\n\r\n        const categoria = {\r\n            id,\r\n            nome,\r\n            ativo,\r\n        } as Categoria;\r\n\r\n\r\n\r\n        if (categoria && categoria.id) {\r\n            this.categoriaService.atualizar(categoria).subscribe(\r\n                (itemAtualizado) => {\r\n                    this.matSnackBar.open(\"Atualizado com sucesso!\", null, {\r\n                        duration: 5000,\r\n                        panelClass: \"green-snackbar\",\r\n                    });\r\n                    this.router.navigateByUrl(\"/categorias\");\r\n                },\r\n                (error) => {\r\n                    this.matSnackBar.open(\"Erro ao atualizar\", null, {\r\n                        duration: 5000,\r\n                        panelClass: \"red-snackbar\",\r\n                    });\r\n                }\r\n            );\r\n        } else {\r\n            this.categoriaService.cadastrar(categoria).subscribe(\r\n                (itemCadastrado) => {\r\n                    this.matSnackBar.open(\"Cadastrado com sucesso!\", null, {\r\n                        duration: 5000,\r\n                        panelClass: \"green-snackbar\",\r\n                    });\r\n                    this.router.navigateByUrl(\"/categorias\");\r\n                },\r\n                (error) => {\r\n                    this.matSnackBar.open(\"Erro ao cadastrar\", null, {\r\n                        duration: 5000,\r\n                        panelClass: \"red-snackbar\",\r\n                    });\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n  \r\n}\r\n","<!-- Title group  -->\r\n<div class=\"title-group\">\r\n    <h1 class=\"mat-h1\">{{labelForm}} Categoria</h1>\r\n    <mat-divider fxFlex=\"1 0\"></mat-divider>\r\n</div>\r\n\r\n<!-- Form -->\r\n<div class=\"inner-wrapper\">\r\n    <form [formGroup]=\"formCadastro\" (ngSubmit)=\"formCadastro.valid && salvar()\" #resetFormCadastro=\"ngForm\" novalidate>\r\n        <!-- Left block -->\r\n        <mat-card>\r\n            <div class=\"controlers-wrapper\">\r\n                <mat-form-field class=\"example-full-width\">\r\n                    <mat-label>Nome</mat-label>\r\n                    <input matInput placeholder=\"Nome\" formControlName=\"nome\" required #name>\r\n                    <mat-error>Nome é obrigatório</mat-error>\r\n                </mat-form-field>\r\n                <section class=\"example-section\">\r\n                    <mat-label>Ativo</mat-label>\r\n                    <mat-checkbox id=\"ativo\" class=\"ativo\" color=\"primary\" formControlName=\"ativo\">\r\n                    </mat-checkbox>\r\n                    <mat-error>\r\n                    </mat-error>\r\n                </section>\r\n            </div>\r\n        </mat-card>\r\n\r\n\r\n        <mat-card-actions>\r\n            <button mat-raised-button color=\"primary\" [disabled]=\"!formCadastro.valid\">Salvar</button>\r\n            <button type=\"button\" mat-raised-button routerLink=\"/categorias\">Voltar</button>\r\n        </mat-card-actions>\r\n\r\n\r\n        <!-- Submit & Reset -->\r\n        <!-- <mat-card>\r\n            <div class=\"full-wrapper button-wrapper\">\r\n                <div class=\"button-wrapper\">\r\n                    <button mat-flat-button color=\"warn\">Salvar</button>\r\n                </div>\r\n            </div>\r\n        </mat-card>  -->\r\n    </form>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CategoriaCadEditComponent } from './componentes/categoria-cad-edit.component';\r\nconst routes: Routes = [\r\n  {path: \"\", component: CategoriaCadEditComponent}\r\n];\r\n\r\n@NgModule({\r\n imports: [RouterModule.forChild(routes)],\r\n exports: [RouterModule]\r\n})\r\nexport class CategoriaCadEditRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n\r\nimport { MaterialModule } from 'src/app/material-module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgxMaskModule, IConfig } from 'ngx-mask'\r\nimport { CategoriaCadEditRoutingModule } from './categoria-cad-edit-routing.module';\r\nimport { CategoriaCadEditComponent } from './componentes/categoria-cad-edit.component';\r\n \r\nconst maskConfig: Partial<IConfig> = {\r\n  validation: false,\r\n};\r\n\r\n\r\n@NgModule({\r\n  declarations: [CategoriaCadEditComponent],\r\n  imports: [\r\n    NgxMaskModule.forRoot(maskConfig),\r\n    MaterialModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    CommonModule,\r\n    CategoriaCadEditRoutingModule,\r\n  ]\r\n})\r\nexport class CategoriaCadEditModule { }\r\n"],"sourceRoot":"webpack:///"}