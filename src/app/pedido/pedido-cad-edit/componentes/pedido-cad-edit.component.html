<div class="title-group">
  <h1 class="mat-h1">{{labelForm}} Pedido</h1>
  <mat-divider fxFlex="1 0"></mat-divider>
</div>
<form fxLayout="column" [formGroup]="formCadastro">
  <mat-card>
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="50px" fxLayoutGap.lt-md="0px">
      <mat-form-field fxFlex="25">
        <mat-label>Cliente</mat-label>
        <mat-select formControlName="cliente" required>
          <mat-option *ngFor="let cliente of clientes" [value]="cliente.cli_id">
            {{cliente.nome}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <br>
    <br>

    <mat-card formGroupName="item">
      <mat-card-header>
        <mat-card-title>Item</mat-card-title>
      </mat-card-header>
      <mat-card-content>

        <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="50px" fxLayoutGap.lt-md="0px">
          <mat-form-field fxFlex="25">
            <mat-label>Produto</mat-label>
            <mat-select formControlName="produto" #product (selectionChange)='onChangeProduto(product)' required>
              <mat-option *ngFor="let produto of produtos" [value]="produto">
                {{produto.nome}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <p> Medida: {{formCadastro.get('item').value | json}} </p>

          <mat-form-field fxFlex="10">
            <input matInput type="text" placeholder="quantidade" formControlName="quantidade" required>
          </mat-form-field>

          <mat-form-field fxFlex="25">
            <input matInput type="text" placeholder="subtotal" formControlName="subtotal" readonly>
          </mat-form-field>
        </div>
      </mat-card-content>


      <button mat-stroked-button color="primary" (click)="onAddItem()">
        <mat-icon>add_circle</mat-icon>
        Adicionar
      </button>
      <br>
      <br>
    </mat-card>
  </mat-card>
  <app-item-table [form]="formCadastro"></app-item-table>
</form>
<!-- <app-debug [form]="form"></app-debug>   -->